> Если вы не можете объяснить это просто, вы недостаточно хорошо это понимаете.


Я отправил [предыдущую статью]() подруге, и отзыв был: "**выставлять напоказ концепции, тонкое выражение, отсутствие глубины, поспешный вывод, куча ерунды**".

Хорошо, признаю, то, что я написал, — это куча дерьма.

Сегодня я решил отбросить все концепции и, с точки зрения первого лица, заново объяснить эту стратегию действий, называемую `динамическим программированием`.

## Вор крадет вещи

![](/img/in-post/dynamic-optimization/偷.gif)

Я вор, сейчас полночь, и я проникаю в дом. Хозяин может проснуться в любой момент, поэтому мне нужно украсть все самые ценные вещи в доме до рассвета, а затем сбежать. Мне нужно составить подробный план действий, чтобы направлять меня в этом деле.

Эта задача: **украсть самые ценные предметы в ограниченное время**.

Кража предметов имеет стоимость, которую мы просто рассматриваем как временную стоимость, измеряемую в часах.

Я создал символ для представления общих атрибутов предметов.

```bash
# Кража iPhone занимает 1 час, и он стоит 5000 юаней
iPhone（1，5000）
# Кража стиральной машины занимает 3 часа, и она стоит 2000 юаней
Стиральная машина（3,2000）
# Кража наличных занимает 1 час, и они стоят 10000 юаней (наличные)
Наличные（1,10000）

И так далее......
```

Содержимое таблицы — это ценность, создаваемая текущим оптимальным решением

Предмет\Время | 0:00|1:00|2:00|3:00|4:00|5:00|6:00
|---|---|---|---|---|---|---|---
Стиральная машина（3,2000）|0|0|0|2000|2000|2000|2000
Игровая консоль Switch（1，1500）|0|1500|1500|2000|3500|3500|3500
iPhone（1，5000）|0|5000|6500|6500|6500|8500|8500
Наличные в сейфе（3,10000）|0|5000|6500|6500|6500|16500|16500

Вывод очевиден: если у меня есть 5 часов, кража `Игровая консоль Switch` + `iPhone` + `Наличные в сейфе` (1500+5000+10000=16500) — оптимальный выбор; если в доме нет наличных, то я могу только выбрать `Стиральная машина` + `Игровая консоль Switch` + `iPhone`; а если в этой комнате только стиральная машина, то я могу только потратить 3 часа на кражу стиральной машины.

Отсюда мы можем сделать первый вывод: **ограниченные условия (время) ограничивают максимизацию моей выгоды**

Но здесь есть проблема: просто дайте мне 5 часов, и я закончу, в чем смысл времени на горизонтальной оси? Давайте посмотрим на второй пример.

## Циньский ван объединяет шесть государств

![](/img/in-post/dynamic-optimization/seven-kingdom.jpg)

> Циньский ван объединил шесть государств, как величественен его взгляд! Размахивая мечом, чтобы рассечь плывущие облака, все феодальные правители пришли с запада.
> 
> Ясное суждение от небес, великая стратегия, превосходящая все таланты. Собирая оружие для отливки золотых фигур, перевал Ханьгу открылся на восток.
> 
> Высекая достижения на горе Куайцзи, скача к террасе Ланья. Семьсот тысяч заключенных, строя у горы Ли.
> 
> Все еще ищет эликсир бессмертия, потерянный в печали. Арбалет стреляет в морскую рыбу, длинные киты возвышаются.
> 
> Нос как пять гор, волны разбрызгивают облака и гром. Плавники покрывают голубое небо, как увидеть Пэнлай?
> 
> Сюй Фу везет циньских женщин, когда вернется башенный корабль? Только видя три источника внизу, золотой гроб хоронит холодный пепел.

Теперь я Циньский ван, решивший объединить шесть государств. Я ссылаюсь на содержание первого раздела и моделирую шесть государств периода Весны и Осени.

```bash
# Хань ближе всего к моему Цинь, его территория стоит 1, сила равна 1
Хань（1，1）
# Хотя Янь маленькое, оно далеко от меня, атаковать его более трудоемко, стоимость выше, поэтому сила равна 2
Янь（2，1）

Остальные следуют той же схеме......
```

Здесь мы устанавливаем новое правило:
1. **Только когда сила > сила других государств, можно достичь аннексии**
2. **Аннексия других государств может добавить их ценность к собственной силе**

Таким образом, мы получаем такую таблицу:

Другие государства\Собственная сила |1|2|3|4|5|6|7
|---|---|---|---|---|---|---|---
Хань（1，1）|0
Чжао（2,3）|0
Янь（2，1）|0
Вэй（1,1）|0
Чу（5,8）|0
Ци（2,3）|0

Как видно, как Циньский ван, если мое государство имеет только силу 1, то мне следует просто остаться дома и подмести пол, какой смысл в аннексионных войнах?

Я не буду заполнять остальную часть этой таблицы.

В конечном итоге мы придем к таким выводам:

1. Когда у меня есть сила, я могу одним ударом победить тех, кто слабее меня
2. Когда моя сила растет, я могу бросить вызов тем, кого не мог победить раньше

На этом этапе мы ответили на вопрос из первой истории: **смысл горизонтальной оси (время)**.

**Условия ограничены, и условия изменяются по мере роста/ослабления собственных способностей и течения времени**

Это и есть значение "динамического".

И для этой игры каждое участвующее государство также имеет свои расчеты. Для них это также проблема динамического программирования. Подлежащее и дополнение меняются местами.

Отсюда мы можем сделать новый вывод:
1. Когда сам слаб, можно только объединить все силы, которые можно объединить (внутренняя и внешняя поддержка)

## Зеленая чай обманывает симпов

![](/img/in-post/dynamic-optimization/r4.jpg)

Я напрямую использую таблицу выше.

Симп\Время зеленой чай |1|2|3|4|5|6|7
|---|---|---|---|---|---|---|---
Симп A（1，1）|0
Симп B（2,3）|0
Симп C（2，1）|0
Симп D（1,1）|0
Симп E（5,8）|0
Симп F（2,3）|0

На этом этапе я думаю, что мы можем быть более абстрактными и уточнить каждую концепцию.

**Ограниченные условия**: Молодость зеленой чай

**Базовая стратегия**: Забросить широкую сеть, познакомиться с большим количеством мужчин, чтобы иметь больше перестановок и комбинаций

**Локальное оптимальное решение**: В ограниченных условиях заставить N симпов тратить деньги на покупку мне подарков. Например, эта зеленая чай идет по магазинам с Симпом A, поэтому я отправляю сообщение Симпу B, чтобы он прислал мне деньги. Это продвинутая многопоточная операция, понимание транзакционных блокировок этим человеком далеко превосходит обычных людей.

![](/img/in-post/dynamic-optimization/shy.gif)


**Максимальная ценность**: В ограниченное время сумма всех вкладов симпов


Здесь есть вопрос: и Циньский ван, и зеленая чай являются практиками динамического программирования, но почему мы так ненавидим зеленых чай сук?

Потому что зеленые чай суки игнорируют **моральные контракты и не уважают общественный порядок и добрые обычаи**.

И ее подход **фокусируется только на краткосрочной выгоде, игнорируя долгосрочную выгоду**.

Подумайте об этом, если симпы ABCDEF все соберутся на встречу, эта сцена будет довольно захватывающей.

![](/img/in-post/dynamic-optimization/lv.jpg)


## Заключение

Динамическое программирование — это не просто алгоритм, а скорее методология, которая может помочь вам лучше планировать свою жизнь и время.
