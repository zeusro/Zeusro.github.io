# Проектирование функции стимулирования в условиях образовательной бюрократии

## Введение

В статье в качестве макроконтекста рассматривается система образовательной бюрократии; выделяются семейный фон, черты характера и модели поведения: (1) учителей Y, F, D; (2) учеников Иуда, Блэк Мамба, P, Y, C13; (3) школьного психолога; (4) руководства школы. «Человеческие решения» разлагаются на вычислимые переменные → оценки → вероятность / исход; анализируются политические риски и последствия разных решений, по ролям исследуются оптимальные стратегии и по возможности проектируется временная функция стимулирования для руководства школы.

## Формальная логика и определения

**Образовательная бюрократия**: ученики подотчётны учителям, учителя управляются директором, директор подотчётен школе. **Результативность** школы измеряется средней успеваемостью и долей поступления в бакалавриат.

**Эффект „пинок кошке“** (Kick the cat, «пинок собаке») [1]: метафора о том, что люди выше по иерархии в организации или семье переносят фрустрацию или недовольство, наказывая нижестоящих, которые в свою очередь передают это дальше по цепочке.

**Функции выигрыша**: выигрыш учителя — средняя успеваемость и доля поступления в бакалавриат; выигрыш ученика — личный результат вступительного экзамена; итоговый экзаменационный результат положительно коррелирует с результатами за последние три года.

## Определения выигрыша (Payoff)

- **Выигрыш учителя** \(U_{\text{teacher}}\): аргументы — средняя успеваемость \(\bar{S}\) и доля поступления \(r\)  
  \[U_{\text{teacher}} = w_{\text{avg}} \cdot \bar{S} + w_{\text{enroll}} \cdot r\]  
  В реализации \(w_{\text{avg}}=0.6\), \(w_{\text{enroll}}=0.4\). **Результативность** (стимул для руководства) изоморфна выигрышу учителя.

- **Прогноз экзаменационного балла ученика** \(G\): положительная корреляция с годовыми баллами за последние 3 года, больший вес у недавних лет  
  \[G = w_1 S_{t-3} + w_2 S_{t-2} + w_3 S_{t-1},\quad w_1+w_2+w_3=1,\; w_1\le w_2\le w_3\]  
  В реализации \(w_1=0.2,\,w_2=0.3,\,w_3=0.5\).

- **Выигрыш ученика** \(U_{\text{student}}\): выигрыш — прогноз личного экзаменационного балла; вне экзаменационного пула выигрыша от экзамена нет  
  \[U_{\text{student}} = \begin{cases} G & \text{если в экзаменационном пуле} \\ 0 & \text{иначе} \end{cases}\]

## Количественные формулы

**Формула 1**: средняя успеваемость = сумма баллов учеников / число учеников

**Формула 2**: доля поступления в бакалавриат = число поступивших в бакалавриат / число сдававших экзамен × 100%

## Моделирование персонажей

**Учитель Y**: использует **формулу 1** для решений. Может уменьшать знаменатель (число учеников) через **PUA**-тактики (давление с целью ухода/отчисления); использует стояние в углу, звонки родителям, публичную критику на классных часах; ложь и уход от контроля перед моральной и правовой проверкой.

**Учитель F**: использует **формулу 1** и **формулу 2**. Число учеников в **формуле 1** не меняет, но может уменьшать число сдающих экзамен ради доли поступления.

**Учитель D**: использует **формулу 1** и **формулу 2**. Максимизирует среднюю успеваемость без исключения учеников.

**Ученик Иуда**: зажиточный средний класс, подлаживается к **учителю F** и получает роль «управляющего». Использует сетевую травлю против других учеников, чтобы сократить численность.

**Ученик Блэк Мамба**: очень богатая семья; может «купить» место в бакалавриате (напр. Макао). Экзамен для него опционален.

**Ученик P**: низкие способности и **IQ**; на **PUA** учителя Y реагирует уходом и отчислением как пассивным сопротивлением.

**Ученик Y**: сильная близорукость, высокий **IQ**, спортсмен. Использует **спортивную надбавку** к экзамену; надбавка требует одобрения руководства школы.

**Ученик C13**: бедная семья, гений с IQ > 160.

**Школьный психолог**: балансир в системе; снижает психологическое давление и негативные эмоции учеников.

**Руководство школы**: распределяет ресурсы (кто получает надбавку, кто отчисляется), назначает психолога на целевое консультирование.

**Временная** метапрограммная модель квантифицирует семейный фон, **IQ**, **EQ**, **PUA**-воздействие, **правовой/моральный риск** и т.д., по ролям моделирует агентов и симулирует стратегии и последствия. Реализация на Go в каталоге `function/local/n/china/shantou/`.

## Временная метапрограммная модель (согласована с function/time.md)

- **Первый принцип**: время — первое измерение. У всех **временных объектов** время — первый член; у **временных функций** время — первый аргумент.
- **Временные объекты**: у `Factor`, `Agent`, `SimState` первый член — `Birth` или `Current`.
- **Временные функции**: `Incentive(t, ...)`, `ChooseStrategy(t, ...)`, `ApplyStrategy(t, ...)` принимают время `t` первым аргументом.
- **Временной лог**: все события в формате «время + содержание» (`LogTS`).
- **Визуализация**: **функция стимулирования** сэмплируется как `(t, результативность)`; время по оси x.

## Определения факторов

| Фактор | Символ/поле | Диапазон | Смысл |
|--------|-------------|----------|-------|
| Семейный фон | FamilyBackground | [0,1] | 0=крайняя бедность, 1=крайнее богатство; влияет на ресурсы и пути (деньги, спорт-инвестиции) |
| Интеллект | IQ | [0,1] | Отображение в балл; влияет на успеваемость и понимание стратегии |
| Эмоциональный интеллект | EQ | [0,1] | Влияет на устойчивость к стрессу и передачу эмоций в цепочке «пинок кошке» |
| PUA-воздействие | PUAExposure | [0,1] | Интенсивность учительского PUA на данного агента |
| Сопротивление PUA | PUAResistance | [0,1] | Устойчивость агента к PUA |
| Правовой/моральный риск | LegalMoralRisk | [0,1] | Риск правовой/моральной ответственности за агента/действие |

Чистое **PUA**-давление: `PUAExposure × (1 - PUAResistance)`, движет стратегиями ухода/избегания.

## Роли и моделирование стратегий

| Роль | Основа стимула | Стратегии | Логика выбора (кратко) |
|------|----------------|-----------|------------------------|
| Учитель Y | Формула 1 (среднее) | PUA-сокращение, ложь/уклонение, обычное преподавание | Низкое среднее и много учеников → PUA; высокий правовой риск → ложь/уклонение |
| Учитель F | Формулы 1+2 | Сокращение числа сдающих, ложь/уклонение, обычное преподавание | Много сдающих и низкая доля → сократить сдающих |
| Учитель D | Формулы 1+2 | Ложь/уклонение, обычное преподавание (без исключения) | Высокий правовой риск → ложь/уклонение; иначе обычное преподавание |
| Ученик Иуда | Подлаживается к учителю F | Сетевая травля, учёба | Много учеников и низкий собственный риск → травля |
| Ученик Блэк Мамба | Деньги | Нет (не сдаёт экзамен) | — |
| Ученик P | Низкий IQ, высокое PUA | Уход/отчисление, избегание | Высокое чистое PUA и стресс → уход |
| Ученик Y | Спортивная надбавка | Спортивная надбавка | Стабильно: выбирает надбавку |
| Ученик C13 | Высокий IQ, бедность | Учёба | Стабильно: учёба |
| Психолог | Баланс системы | Снижение стресса, успокоение | Высокий средний стресс → успокоение |
| Руководство | Результативность = стимул | Давление вниз (пинок кошке), проектирование стимулов | Низкая результативность → давление; высокая → проектирование стимулов |

## Квантификация стратегий и последствий

| Стратегия | Последствие (приращение/булево) | Объект |
|-----------|----------------------------------|--------|
| PUA-сокращение | ΔStress↑, LegalRisk↑ | Случайный ученик-цель |
| Сокращение сдающих | LeaveExam, LegalRisk↑ | Случайный ученик-цель |
| Ложь/уклонение от контроля | LegalRisk↓ (краткосрочно) | Действующее лицо |
| Уход/отчисление | Dropout, LeaveExam | Сам агент |
| Сетевая травля | ΔStress↑, LegalRisk↑ | Случайный ученик-цель |
| Спортивная надбавка / учёба / избегание | ΔScore, ΔStress | Сам агент |
| Успокоение / снижение стресса | ΔStress↓ | Случайный ученик-цель |
| Давление вниз | ΔStress↑ | Случайный ученик-цель |

## Временная функция стимулирования

**Результативность** (воспринимаемый руководством стимул) изоморфна выигрышу учителя как **функция стимулирования** времени \(t\):

```
Incentive(t) = TeacherPayoff(средняя успеваемость, доля поступления) = 0.6 × средняя успеваемость + 0.4 × доля поступления
```

Средняя успеваемость и доля поступления вычисляются по состоянию на момент \(t\) (ученики в школе, сдающие, поступившие). На каждом шаге сэмплируется `Incentive(t)` для графика «время–результативность». Прогноз экзаменационного балла обновляется в конце года по `ScoreHistory` (последние 3 года) для `GaokaoScore` и `StudentPayoff`.

## Равновесие Нэша и оптимальные стратегии

При заданных **функциях выигрыша** и пространстве стратегий равновесие и рекомендации (модель и теория совпадают):

| Роль | Выигрыш/цель | Стратегия в равновесии Нэша | Рекомендуемая оптимальная стратегия |
|------|--------------|-----------------------------|-------------------------------------|
| **Учителя** | \(U_{\text{teacher}}=\bar{S}\) и доля | При низком среднем и многих учениках → **PUA**/сокращение сдающих (предательство); при высоком правовом риске или после предательства → обычное преподавание (кооперация) | В **повторяющейся игре** в основном обычное преподавание для репутации; сокращение только при явно низком среднем и большом числе учеников, с учётом правового/морального риска |
| **Ученики** | \(U_{\text{student}}=G\) (корреляция за 3 года) | Высокий **IQ**, низкое **PUA** → учёба; высокое **PUA** и стресс → уход или избегание | Максимизация балла за 3 года: приоритет «учёба»; при высоком стрессе или **PUA** — «избегание» или при необходимости уход для защиты долгосрочного выигрыша |
| **Психолог** | Стабильность системы (снижение общего стресса) | Успокоение при среднем стрессе выше порога, иначе бездействие | При `AvgStress > порог` успокоение, иначе бездействие |
| **Руководство** | **Результативность** = \(U_{\text{teacher}}\) | При **результативности** ниже порога — давление вниз (**пинок кошке**); иначе проектирование стимулов | Низкая → давление; высокая → проектирование стимулов, утверждение надбавок, распределение ресурсов |

**Равновесие Нэша**: учителя и ученики в **повторяющейся игре**. Длительное предательство (**PUA**/сокращение сдающих) провоцирует ответ учеников (травля и т.п.) или избегание/уход, что снижает среднюю успеваемость и долю поступления и тем самым выигрыш учителя. В равновесии учителя в основном преподают нормально, ученики при отсутствии экстремального стресса учатся, и обе стороны в долгосроке приближаются к максимуму выигрыша. Психолог и руководство реагируют на агрегированные показатели (средний стресс, **результативность**) пороговой реакцией, как выше.

## Дизайн имитационного эксперимента

- **Шаг**: продвижение по дням (или настраиваемо).
- **За шаг**: обновление агрегатов (число учеников, сдающих, доля поступления, средний стресс); для каждого агента вызов `ChooseStrategy(t, agent, ctx)`, затем `ApplyStrategy(t, strategy, ...)`, применение последствий, добавление лога «время + содержание».
- **Выход**: (1) **временной** лог; (2) сэмпл **функции стимулирования** (время → **результативность**); (3) итоговая статистика (в школе, сдающие, поступившие, средняя успеваемость, доля, **результативность**).

Запуск: в указанном каталоге `go run .` или `go build` и запуск бинарника.

## Файлы реализации

**Расположение исходного кода**: [zeusro/system — function/local/n/china/shantou/y](https://github.com/zeusro/system/tree/main/function/local/n/china/shantou/y)

| Файл | Содержимое |
|------|------------|
| [model.go](https://github.com/zeusro/system/blob/main/function/local/n/china/shantou/y/model.go) | Временные типы: Factor, Event, Point, NLine; время — первый член (Birth/T) |
| [roles.go](https://github.com/zeusro/system/blob/main/function/local/n/china/shantou/y/roles.go) | Роли и стратегии (перечисления); Agent (Birth первый), NewAgent; Factor, InSchool, InExamPool, Score, ScoreHistory, Stress, LegalRisk, StrategyCount, LastStrategy |
| [incentive.go](https://github.com/zeusro/system/blob/main/function/local/n/china/shantou/y/incentive.go) | IncentiveParams; Incentive(t,...), IncentiveAt; TeacherPayoff; GaokaoScore(ScoreHistory); StudentPayoff |
| [strategy.go](https://github.com/zeusro/system/blob/main/function/local/n/china/shantou/y/strategy.go) | ChooseStrategy(t, agent, ctx) по ролям; Consequence; ApplyStrategy(t, strategy, ...) |
| [sim.go](https://github.com/zeusro/system/blob/main/function/local/n/china/shantou/y/sim.go) | SimContext, SimState; LogTS, UpdateContext, Run; pickStudentTarget |
| [y.go](https://github.com/zeusro/system/blob/main/function/local/n/china/shantou/y/y.go) | Главный вход Y(...); newNamedAgents; вывод лога, сэмпла стимула, итоговой статистики, совета по C13 |
| [y_test.go](https://github.com/zeusro/system/blob/main/function/local/n/china/shantou/y/y_test.go) | TestY (полный прогон, -short для пропуска); TestY_shortParams, TestY_shortRun |

## Ссылка

[1] Эффект «пинок кошке» — [https://en.wikipedia.org/wiki/Displaced_aggression](https://en.wikipedia.org/wiki/Displaced_aggression)
