2018å¹´3æœˆã€ç§ã¯æ­£å¼ã«ã‚¢ãƒ¡ãƒ¼ãƒã‚°ãƒ«ãƒ¼ãƒ—ä¼šç¤¾ã®ã™ã¹ã¦ã®ãƒ‡ã‚¸ã‚¿ãƒ«è³‡ç”£ã‚’æ¬¡ã€…ã¨å¼•ãç¶™ãã€å®Ÿè³ªçš„ãªé‹ç”¨è²¬ä»»è€…ã¨ãªã‚Šã¾ã—ãŸã€‚

ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãŒç§ã‚’é«˜ãè©•ä¾¡ã—ã¦ã„ãŸãŸã‚ï¼ˆ~~ãƒœã‚¹ã¯ãŠé‡‘ã‚’ä½¿ã„ãŸããªã„~~ï¼‰ã€é•·ã„é–“ã€ç§ä¸€äººãŒã™ã¹ã¦ã®ã“ã¨ã‚’æ‹…å½“ã—ã¦ã„ã¾ã—ãŸã€‚

ç‰¹ã«CDNåˆ†é‡ã§ã¯ã€æ­´å²çš„éºç”£ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒ‰ãƒ¡ã‚¤ãƒ³åè§£æ±ºã€TTLã€å›½å†…ã®æ„šã‹ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆäº‹æ¥­è€…ï¼ˆé•·åŸãƒ–ãƒ­ãƒ¼ãƒ‰ãƒãƒ³ãƒ‰ãªã©ï¼‰ãŒé–¢ä¿‚ã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã®ä½œæ¥­å†…å®¹ã¯ã‚ˆã‚Šæ…é‡ã«å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

æ ¹æœ¬çš„ãªå•é¡Œã«æˆ»ã‚Šã¾ã—ã‚‡ã†ã€‚ãªãœCDNãŒå¿…è¦ãªã®ã‹ã€CDNã¯å®Ÿéš›ã«ã©ã®ã‚ˆã†ãªå•é¡Œã‚’è§£æ±ºã™ã‚‹ã®ã‹ã€‚

## ãªãœCDNãŒå¿…è¦ã‹

![image](/img/in-post/cdn-history/http.png)

ã“ã®è³ªå•ã«ç­”ãˆã‚‹ã«ã¯ã€æ­´å²çš„ãªãƒã‚¯ãƒ­ã®è¦³ç‚¹ã‹ã‚‰è€ƒãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

å¤ä»£ã®Webãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã¯ã€Aè§£æ±ºã‚’çµŒç”±ã™ã‚‹å ´åˆã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒã‚§ãƒ¼ãƒ³ã¯åŸºæœ¬çš„ã«æ¬¡ã®ã¨ãŠã‚Šã§ã™ï¼š

```
computer --> local DNS  --> server IP
```

ã‚µãƒ¼ãƒãƒ¼IPã‚’å–å¾—ã—ãŸå¾Œã€é›»å­ç«¯æœ«ï¼ˆã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã€é›»è©±ã€iPadï¼‰ãŒã‚µãƒ¼ãƒãƒ¼ã¨TCPæ¥ç¶šã‚’ç¢ºç«‹ã—ã€æœ€å¾Œã«ãƒ–ãƒ©ã‚¦ã‚¶ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚

ã—ã‹ã—ã€ã“ã“ã«å•é¡ŒãŒã‚ã‚Šã¾ã™ï¼š`server IP`ã¯1ã¤ã ã‘ã§ã™ãŒã€`computer`ã¯é€šå¸¸è¤‡æ•°ã‚ã‚Šã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒå¤šã™ãã‚‹ã¨ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®æ··é›‘ãŒç™ºç”Ÿã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§é£Ÿäº‹ã‚’ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ãŒã€ãƒœã‚¹ãŒã‚±ãƒã§ã€ã‚¦ã‚§ã‚¤ã‚¿ãƒ¼ãŒ1äººã—ã‹ã„ãªã„ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚é¡§å®¢ãŒå¢—ãˆã‚‹ã«ã¤ã‚Œã¦ã€ã‚¦ã‚§ã‚¤ã‚¿ãƒ¼ã¯ã¾ã™ã¾ã™å¿™ã—ããªã‚Šã€æœ€çµ‚çš„ã«ã¯ã‚ãªãŸã®é¢å€’ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚

ã§ã¯ã€ã“ã®å•é¡Œã‚’ã©ã†è§£æ±ºã™ã‚‹ã‹ï¼Ÿ

![image](/img/in-post/cdn-history/secret-garden.jpg)

ç­”ãˆã¯ã‚‚ã¡ã‚ã‚“ã€ãŠé‡‘ã‚’ã‹ã‘ã‚‹ã“ã¨ã§ã™ï¼ã‚¦ã‚§ã‚¤ã‚¿ãƒ¼ãŒå°‘ãªãã€ã‚µãƒ¼ãƒ“ã‚¹ãŒä¸ååˆ†ã ã¨æ€ã†ãªã‚‰ã€ãƒ¡ã‚¤ãƒ‰ã‚«ãƒ•ã‚§ã«è¡Œã£ã¦ã€å¥³ã®å­ãŒåˆæ³•çš„ã«ã‚ãªãŸã®å‘¨ã‚Šã«ã„ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã‚‚ã£ã¨ãŠé‡‘ã‚’ã‹ã‘ã¦ãã ã•ã„ã€‚

CDNã‚‚åŒæ§˜ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã§ã™â€”ç¶™ç¶šçš„ã«å¥³ã®å­ï¼ˆCDNã‚¨ãƒƒã‚¸åŠ é€Ÿãƒãƒ¼ãƒ‰ï¼‰ã«æŠ•è³‡ã™ã‚‹ã“ã¨ã§ã€é£Ÿäº‹ã‚’ã—ãŸã„ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§é‹è»¢ã™ã‚‹ï¼‰äººã«ã‚ˆã‚Šè‰¯ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

## CDNã®ä½¿ç”¨

ãã®å¾Œã€å¤ä»£ã®Webæ™‚ä»£ã‹ã‚‰è„±å´ã—ã€è¿‘ç¾ä»£ã«æ¥ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡æ•°é–¢æ•°çš„ã«å¢—åŠ ã™ã‚‹ã«ã¤ã‚Œã¦ã€å¤‰åŒ–ã«é©å¿œã™ã‚‹ãŸã‚ã®æ–°ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒå¿…è¦ã«ãªã‚Šã¾ã—ãŸã€‚

ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è¨­è¨ˆã«ã¯å¸¸ã«ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚Šã¾ã™ï¼š**1å±¤ã§ä¸ååˆ†ãªå ´åˆã¯ã€ã‚‚ã†1å±¤è¿½åŠ ã™ã‚‹**ã€‚

![image](/img/in-post/cdn-history/maxresdefault.jpg)

ã—ãŸãŒã£ã¦ã€è¿‘ç¾ä»£ã§ã¯ã€Webãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯é€šå¸¸`é‡ã­ãŸãƒ‘ã‚¤`ã§ã™ï¼š

```
$host --> cname --> CDN --> SLB ip --> server1,server2,server3,...
```

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒã‚§ãƒ¼ãƒ³ã¯ï¼š

```
computer --> local DNS  --> CDN
```

CDNã®æœ¬è³ªã¯**é™çš„ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒãƒ•ã‚¡ãƒªãƒ³ã‚°ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°**ã§ã™ã€‚

## CDNå•é¡Œã®è¨ºæ–­

2015å¹´é ƒã€ç§ã¯ä¼šç¤¾ã®æŠ€è¡“ã‚µãƒãƒ¼ãƒˆã‚’å…¼å‹™ã—ã¦ã„ã¾ã—ãŸã€‚QQã§é¡§å®¢ã®æŠ€è¡“çš„ãªå•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã—ãŸï¼ˆ~~ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚±ãƒ¼ãƒ–ãƒ«ã‚’å¼•ã~~ï¼‰ã€å¾ã€…ã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨ºæ–­ï¼ˆ~~è‡ªæ…¢~~ï¼‰ã®çµŒé¨“ã‚’è“„ç©ã—ã¾ã—ãŸã€‚

ã€Œè¿‘ç¾ä»£ã€ã®Webãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒã‚§ãƒ¼ãƒ³å…¨ä½“ã‚’åˆ†è§£ã™ã‚‹ã¨ã€å„å±¤ã§ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãŒå•é¡Œã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

### ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã®å•é¡Œ

ä¸»ã«ã‚´ãƒŸè¨­å®šã¨ã‚´ãƒŸãƒ–ãƒ­ãƒ¼ãƒ‰ãƒãƒ³ãƒ‰ã®å•é¡Œã§ã™ã€‚ã‚´ãƒŸãƒ–ãƒ­ãƒ¼ãƒ‰ãƒãƒ³ãƒ‰ã®å•é¡Œã«ã¤ã„ã¦ã¯ã€ä¸€èˆ¬ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«[å·¥æ¥­æƒ…å ±åŒ–éƒ¨é›»æ°—é€šä¿¡ãƒ¦ãƒ¼ã‚¶ãƒ¼è‹¦æƒ…å—ä»˜ã‚»ãƒ³ã‚¿ãƒ¼](https://dxss.miit.gov.cn/)ã§äº‹æ¥­è€…ã«è‹¦æƒ…ã‚’ç”³ã—ç«‹ã¦ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

### ãƒ­ãƒ¼ã‚«ãƒ«DNSã®å•é¡Œ

`local DNS`ã¯ãƒ­ãƒ¼ã‚«ãƒ«DNSã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ã€‚ç‰¹ã«è¨­å®šã—ãªã„å ´åˆã€ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’çµŒç”±ã—ã€ãƒ«ãƒ¼ã‚¿ãƒ¼ã¯äº‹æ¥­è€…ã‚’çµŒç”±ã—ã¾ã™ã€‚
ç¯€æ“ã®ãªã„äº‹æ¥­è€…ã«é­é‡ã—ãŸå ´åˆã€å…¥åŠ›ã—ãŸWebã‚µã‚¤ãƒˆãŒæ­£ã—ãã¦ã‚‚ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã®å•é¡Œã®åŸå› ã¯ã€DNSã‚µãƒ¼ãƒ“ã‚¹è‡ªä½“ãŒWebã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§ã‚ã‚‹ã“ã¨ã§ã™ã€‚ã“ã“ã§DNS IPã‚’å¤‰æ›´ã—ã¦ã‚‚ã€äº‹æ¥­è€…ãŒæ•…æ„ã«èª¤ã£ã¦è§£æ±ºï¼ˆDNSæ±šæŸ“ï¼‰ã—ãŸã‚Šã€DNSãŒè¿½ã„ã¤ã‹ãªã„ï¼ˆTTLãŒéãã¦ã‚‚å¤ã„ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰å ´åˆã€è§£æ±ºå…¨ä½“ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã™ã€‚

ãã®ãŸã‚ã€å¾Œã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã€é‹ç”¨ã«ä¼šç¤¾ã®[ãƒ˜ãƒ«ãƒ—ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://17zwd.com/help/dianzhu/201806250906137255.htm)ã«è¿½åŠ ã—ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸâ€”ä¸»ã«`local DNS`ã‚’è¨­å®šã—ã¦ã€äº‹æ¥­è€…ã®å¼±ã„`DNS`ã®å•é¡Œã‚’å›é¿ã™ã‚‹ã“ã¨ã§ã™ã€‚

![image](/img/in-post/cdn-history/local-dns.png)

### CDNã®å•é¡Œ

CDNã®å•é¡Œã¯ã‚ˆã‚Šéš ã‚Œã¦ç¾ã‚Œã€é€šå¸¸CDNäº‹æ¥­è€…ã¯è²¬ä»»ã‚’è»¢å«ã—ã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã®æ™‚ç‚¹ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’è©³ç´°ã«åé›†ã—ã€ãã®å¾ŒCDN~~ä¸¡è¦ª~~ã«æŒ¨æ‹¶ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

å•é¡ŒãŒstu.17zwd.comã«ã‚ã‚‹ã¨ä»®å®šã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«https://ipip.netã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ’®ã£ã¦ã‚‚ã‚‰ã„ã¾ã™ã€‚ãã®å¾Œã€ç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ã«å¿œã˜ã¦ã€ç•°ãªã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

- [Windowsã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ]

```bash
set host=stu.17zwd.com
ipconfig -all
ping %host%
tracert %host%
```

- [Macã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ]

```bash
export host=stu.17zwd.com
nslookup $host
ping $host
traceroute $host
```

ãã®å¾Œã€ä¸Šæµã«å ±å‘Šã—ã¾ã™ã€‚

`*.w.alikunlun.com`ã¯é€šå¸¸Alibaba Cloudã€
`*.wswebpic.com`ã¯åŸºæœ¬çš„ã«Wangsuã§ã™ã€‚

### æ¨©å¨DNSã®å•é¡Œ

![image](/img/in-post/cdn-history/dns-query_20151207015631_954.png)

ã“ã®å•é¡Œã¯éå¸¸ã«ã¾ã‚Œã«ç™ºç”Ÿã—ã¾ã™ã€‚ä¸€åº¦ã ã‘é­é‡ã—ã¾ã—ãŸã€‚ãã®æ™‚ã¯ã€ã‚µãƒ¼ãƒãƒ¼ãŒä¸­å›½ã§ç”³è«‹ã§ããªã„ãƒ‰ãƒ¡ã‚¤ãƒ³åã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹ã¨ãã«ç™ºç”Ÿã—ã¾ã—ãŸã€‚
Alibaba Cloudã®ã‚¢ãƒ•ã‚¿ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã«é€£çµ¡ã—ãŸå¾Œã€ã‚µãƒ¼ãƒãƒ¼ã®IPãŒæ¨©å¨DNSã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚

æ¨©å¨DNSã¯æœ¬è³ªçš„ã«Webã‚µãƒ¼ãƒ“ã‚¹ã§ã‚‚ã‚ã‚‹ãŸã‚ã€é•æ³•ãªæ¥ç¶šã‚’ç©æ¥µçš„ã«æ‹’å¦ã§ãã¾ã™ã€‚

## äº¤æ¸‰åŠ›ã®ç²å¾—

ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰ã®åç›Šãƒ¢ãƒ‡ãƒ«ã¯ã€æœ¬è³ªçš„ã«[ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŠ¹æœ](https://wiki.mbalib.com/wiki/%E7%BD%91%E7%BB%9C%E6%95%88%E5%BA%94)ã«ã‚ˆã£ã¦ã‚‚ãŸã‚‰ã•ã‚Œã‚‹ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯æ–™é‡‘ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ã®è¦æ¨¡ãŒå¢—åŠ ã™ã‚‹ã«ã¤ã‚Œã¦ã€å¸¯åŸŸå¹…ã®ã‚³ã‚¹ãƒˆãŒå¾ã€…ã«ä¸Šæ˜‡ã™ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

å¤§ã¾ã‹ãªè¨ˆç®—ã®å¾Œã€å¹³å‡ã™ã‚‹ã¨ã€ã‚³ã‚¹ãƒˆã¯50ï¼…ä»¥ä¸Šã‚’å ã‚ã¾ã™ã€‚ãã®ãŸã‚ã€å°±ä»»å¾Œã€ã“ã®åˆ†é‡ã®æ”¯å‡ºã‚’å¯èƒ½ãªé™ã‚Šç¸®å°ã™ã‚‹ãŸã‚ã«ã€å¤šãã®åŠªåŠ›ã‚’ã—ã¾ã—ãŸã€‚

**ä¼æ¥­ã®åç›Šã®éµã¯ç‹¬å çµŒå–¶ã«ã‚ã‚Šã¾ã™ã€‚ç‹¬å ã‚’æ‰“ç ´ã™ã‚‹ã«ã¯ã€ç«¶äº‰ç›¸æ‰‹ãŒå¿…è¦ã§ã™ã€‚**ãã®ãŸã‚ã€Wangsuã‚’å°å…¥ã—ã€æ¯”è¼ƒçš„æº€è¶³ã§ãã‚‹è¨ˆç”»ã‚’ä½œæˆã™ã‚‹ã‚ˆã†ä¿ƒã—ã¾ã—ãŸã€‚ã“ã®è¨ˆç”»ã¯ã€Œ**å¸¯åŸŸå¹…ã«ã‚ˆã‚‹èª²é‡‘**ã€ã§ã™ã€‚

é•·æœŸçš„ãªã€Œãƒ•ã‚§ãƒ«ãƒŸæ¨å®šã€ã®å¾Œã€`ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯` + `å¸¯åŸŸå¹…`ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚
ä¸»è¦ãªãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã¯Alibaba Cloudã«é€ã‚Šã€ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯èª²é‡‘ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æµ·å¤–ã¨å°è¦æ¨¡ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ã‚µã‚¤ãƒˆã¯Wangsuã«é€ã‚Šã¾ã™ã€‚

Wangsuã‚’å°å…¥ã—ãŸå¾Œã€Alibaba Cloudã«çµ¶å¯¾çš„ã«ä¾å­˜ã—ãªããªã‚Šã€ã„ã¤ã§ã‚‚ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹èƒ½åŠ›ã‚’ç²å¾—ã—ã¾ã—ãŸã€‚ãã®å¾Œã€ã“ã‚Œã‚’2020ä¼šè¨ˆå¹´åº¦ã§ä¼šç¤¾ã®Alibaba Cloudã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®CDNè£½å“ã«é©ç”¨ã™ã‚‹ã‚ˆã‚Šé«˜ã„å‰²å¼•ã‚’ç”³è«‹ã™ã‚‹ãŸã‚ã®äº¤æ¸‰ææ–™ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã—ãŸã€‚

ã‹ãªã‚Šç¸ãŒã‚ã‚‹ã“ã¨ã«ã€é€£æºã—ãŸAlibaba Cloudã®ãƒ“ã‚¸ãƒã‚¹ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯ä»¥å‰ChinaCacheã§åƒã„ã¦ã„ã¾ã—ãŸã€‚ä»¥å‰ChinaCache CDNã‚’ä½¿ç”¨ã—ã¦ã„ãŸã¨ãã‚‚ã€é€£æºã—ãŸã®ã¯å½¼å¥³ã§ã—ãŸã€‚ä¹…ã—ã¶ã‚Šã®å†ä¼šã§ã—ãŸã€‚

## è‡ªå‹•é‹ç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ 

**CDNã‚³ã‚¹ãƒˆã®æœ¬è³ªã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚³ã‚¹ãƒˆ**ã§ã™ã€‚

Alibaba Cloudå†…ã§ã€å¸¯åŸŸå¹…ã«ã‚ˆã‚‹èª²é‡‘ã®å…±æœ‰å¸¯åŸŸå¹…ãƒ—ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ãã—ã¦ã€è‡ªåˆ†ã§æ›¸ã„ãŸ[common-bandwidth-auto-switch](https://github.com/p-program/common-bandwidth-auto-switch)ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã—ã¦ã€å…±æœ‰å¸¯åŸŸå¹…ãƒ—ãƒ¼ãƒ«å†…ã®EIPãƒªã‚¹ãƒˆã‚’å‹•çš„ã«è¨ˆç”»ã—ã€Alibaba CloudãŒä¼šç¤¾ã‹ã‚‰1ã‚»ãƒ³ãƒˆã§ã‚‚å¤šãç¨¼ãã“ã¨ã‚’çµ¶å¯¾ã«è¨±ã—ã¾ã›ã‚“ï¼ï¼ï¼

ç”»åƒã‚ªãƒªã‚¸ãƒ³ã‚µãƒ¼ãƒãƒ¼ã«ã¤ã„ã¦ã¯ã€[nginx-brotliå®Ÿé¨“](http://www.zeusro.com/2018/07/05/nginx-brotli/)ã‚’è¡Œã„ã€ç”»åƒã‚’`brotli`ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦ã‚³ã‚¹ãƒˆã‚’åœ§ç¸®ã—ã¾ã—ãŸã€‚

æœ€å¾Œã«ã€ã€Œ[è¤‡æ•°ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¦ãƒ‰CDNãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](http://www.zeusro.com/2019/09/20/cdn-pickup/)ã€ã‚’ã¾ã¨ã‚ã€æ™‚ã€…ã€Œè¶…è£…å‚™ã€ã‚’ä½¿ç”¨ã—ã¦CDNãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯æ€¥å¢—ã®å•é¡Œã‚’ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¾ã—ãŸ](http://www.bullshitprogram.com/super-b/)ã€‚

ã‹ãªã‚Šæ—©ã„æ™‚æœŸã«ã€ã€Œ**æŠ€è¡“ã¯ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã«å¥‰ä»•ã™ã‚‹**ã€ã¨æ¼ ç„¶ã¨æ„Ÿã˜ã¦ã„ãŸãŸã‚ã€è¡Œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯åŸºæœ¬çš„ã«å•†æ¥­ä¾¡å€¤ã‚’è¨ˆç®—ã§ãã¾ã—ãŸã€‚
ä»¥å‰ã®æ€ å·¥ã¯ã€ä¸»ã«ãã‚Œã‚‰ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã¾ã‚Šå„²ã‹ã‚‰ãªã„ã¨æ„Ÿã˜ã¦ã„ãŸãŸã‚ã§ã™ã€‚

## ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–æ™‚ä»£ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨ºæ–­

ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–æ™‚ä»£ã«å…¥ã‚‹ã¨ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒã‚ˆã‚Šè¤‡é›‘ã«ãªã‚Šã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ã€ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š
1. [kubernetesã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå•é¡Œ](http://www.zeusro.com/2019/05/11/kubernetes-timeout/)
1. [kubernetesã®ã‚µãƒ¼ãƒ“ã‚¹ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯è»¢é€ãƒã‚§ãƒ¼ãƒ³ã®ç†è§£](http://www.zeusro.com/2019/05/17/kubernetes-iptables/)

[kt-connect](https://github.com/alibaba/kt-connect)ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚‚å„ªã‚Œã¦ã„ã¾ã™ã€‚
ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ„ãƒ¼ãƒ«ãŒå¥½ããªå ´åˆã¯ã€ç›´æ¥`tcpdump`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ğŸ¤£ã€‚

## çµè«–

> æ˜å‰Šæ©Ÿã¯CDNã®æœ€å¤§ã®æ•µã§ã™ã€‚

## å‚è€ƒãƒªãƒ³ã‚¯

[1]
Proxy-connectionã¨connectionã®ä½¿ç”¨ã€ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼é–“ã®é•·çŸ­æ¥ç¶šã‚’ã©ã®ã‚ˆã†ã«ç®¡ç†ã™ã‚‹ã‹ï¼Ÿ
https://my.oschina.net/u/4266687/blog/3514919

[2]
DNSåŸºæœ¬æ¦‚å¿µ
https://dudns.baidu.com/support/knowledge/Theory/

[3]
HTMLãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ—ãƒ­ã‚»ã‚¹ã®è©³ç´°èª¬æ˜
https://www.cnblogs.com/dojo-lzz/p/3983335.html

[4]
CDNã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã®ã‚ã‚Œã“ã‚Œ
https://bbs.qcloud.com/forum.php?mod=viewthread&tid=3775

[5]
pingã‚³ãƒãƒ³ãƒ‰ã§ãƒ‘ã‚±ãƒƒãƒˆãƒ­ã‚¹ã¾ãŸã¯æ¥ç¶šã§ããªã„å ´åˆã®ãƒªãƒ³ã‚¯ãƒ†ã‚¹ãƒˆæ–¹æ³•
https://help.aliyun.com/knowledge_detail/40573.html

[6]
å¤šæ¬¡å…ƒCDNåˆ†æ
https://zhuanlan.zhihu.com/p/142787755
